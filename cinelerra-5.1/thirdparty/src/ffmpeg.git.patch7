diff -urN a/libavcodec/h263dec.c b/libavcodec/h263dec.c
--- a/libavcodec/h263dec.c	2019-12-02 08:48:02.926360820 -0700
+++ b/libavcodec/h263dec.c	2019-12-02 08:52:52.428339509 -0700
@@ -684,7 +684,7 @@
     if (CONFIG_MPEG4_DECODER && avctx->codec_id == AV_CODEC_ID_MPEG4)
         ff_mpeg4_frame_end(avctx, buf, buf_size);
 
-    if (!s->divx_packed && avctx->hwaccel)
+    if (s->divx_packed && avctx->hwaccel)
         ff_thread_finish_setup(avctx);
 
     av_assert1(s->current_picture.f->pict_type == s->current_picture_ptr->f->pict_type);
